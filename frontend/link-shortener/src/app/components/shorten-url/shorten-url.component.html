<div class="shorten-url border-1 border-gray-200 shadow-sm rounded-lg p-6 bg-white w-[750px]">
  <div class="flex flex-col mb-8 text-left">
    <h2 class="text-2xl font-semibold mb-2">Shorten Your URL</h2>
    <p class="text-md font-medium">Enter a long URL to create a shorter, more manageable link</p>
  </div>
  <form
    [formGroup]="form"
    (ngSubmit)="onSubmit()"
    class="flex flex-col sm:flex-row gap-2"
  >
    <input
      type="url"
      id="url"
      formControlName="url"
      placeholder="https://example.com/very/long/url"
      class="flex-1 px-3 py-2 border-1 border-gray-200 rounded-lg shadow-sm touched focus:outline-none focus:ring-2 focus:ring-primary"
      [class.border-red-500]="
        form.get('url')?.invalid && form.get('url')?.touched
      "
    />
    <button
      type="submit"
      class="bg-zinc-900 text-white px-4 py-2 rounded-md hover:bg-zinc-700"
      [disabled]="form.invalid || loading"
    >
      {{ loading ? "Shortening..." : "Shorten" }}
    </button>
  </form>

  @if (form.get('url')?.invalid && form.get('url')?.touched) {
  <div class="mt-2 text-red-600 text-sm">
    @if (form.get('url')?.errors?.['required']) {
    <small>URL is required.</small>
    } @if (form.get('url')?.errors?.['pattern']) {
    <small>URL must start with http:// or https://</small>
    }
  </div>
  } @if (shortURL) {
  <div
    class="mt-4 p-3 bg-gray-100 rounded-md flex items-center justify-between"
  >
    <div class="flex items-center gap-2 overflow-hidden">
      <svg
        class="h-4 w-4 text-gray-500 shrink-0"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M13.828 10.172a4 4 0 00-5.656 0L4 14.344a4 4 0 105.656 5.656l1.415-1.414"
        ></path>
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M10.172 13.828a4 4 0 005.656 0L20 9.656a4 4 0 10-5.656-5.656l-1.415 1.414"
        ></path>
      </svg>
      <span class="text-sm font-medium truncate">{{ shortURL }}</span>
    </div>
    <button
      type="button"
      class="text-sm text-blue-600 hover:underline"
      (click)="copyToClipboard()"
    >
      Copy
    </button>
  </div>
  }
</div>
